https://kubernetes.io/docs/reference/access-authn-authz/service-accounts-admin/#:~:text=To%20create%20a%20non%2Dexpiring,with%20that%20generated%20token%20data.



apiVersion: v1
kind: Secret
type: kubernetes.io/service-account-token
metadata:
  name: mysecretname
  annotations:
    kubernetes.io/service-account.name: jenkins


kubectl apply -f sec.yaml -n webapps



#Get token
kubectl describe secret mysecretname -n webapps


#eyJhbGciOiJSUzI1NiIsImtpZCI6InJDd283LVU5VTUwSXJQckExajNVVVp0cE9MQ1NkUmlHbHlsa1lvSlkyVUUifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJ3ZWJhcHBzIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6Im15c2VjcmV0bmFtZSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJqZW5raW5zIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiYjZkYjQzZTItNjM4Yy00Y2QyLWI4NWItYzBhOGE5Y2IxNjg0Iiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OndlYmFwcHM6amVua2lucyJ9.NU5d2pSGxdALPu8jAed8muNt0zARmgykRinj44O3BJMtenSnR3VpEX2HaWEVy1V52gem8St6UIKhUriR1gFv_ZycaCQ-ov7rRN_ncD60krCQLEQkwh-i1z8F05YDYpU7y-22y5Zh0SrNejU30HNiwkcvHTtMONNQecceAwGSv-AdJrPvEDxppjEecM7DIU45lXVl8p3C_7-8mKDMOnp6HRscj8AySvIR_p-a9i-2BXoN3Sz8Gw9DR9lJxaruY9xyjXsE1Ybsx3Wqh7Di7Dwnor1y83aYzHCbyCb-61jcBO8Y8arO0lT1RaD7-9ok0BN-S27Xr-rQWnp3dsQzKyJG8g

#get kubernetes server end point
cd ~/.kube
cat config

#https://172.31.0.21:6443